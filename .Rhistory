x=DATE %>% factor(),
y=TOTALKBTU,
colour=CUSTOMERCLASS
),
stat="identity",
position="stack"
)+
labs(
x="Month",
y="Total KBTU",
title= "PG&E Commercial Gas and Electricity Usage, 2017-2020",
fill="Electricity Type"
)
pge_res_compare
#pge_com_compare
pge_res_compare<- pge_res%>%
ggplot()+
geom_line(
aes(
x=DATE %>% factor(),
y=TOTALKBTU,
colour=CUSTOMERCLASS
),
stat="identity",
#position="stack"
)+
labs(
x="Month",
y="Total KBTU",
title= "PG&E Commercial Gas and Electricity Usage, 2017-2020",
fill="Electricity Type"
)
pge_res_compare
#pge_com_compare
pge_res_compare<- pge_res%>%
ggplot()+
geom_line(
aes(
x=DATE %>% factor(),
y=TOTALKBTU,
colour=CUSTOMERCLASS
),
#stat="identity",
#position="stack"
)+
labs(
x="Month",
y="Total KBTU",
title= "PG&E Commercial Gas and Electricity Usage, 2017-2020",
fill="Electricity Type"
)
pge_res_compare
#pge_com_compare
rm(pge_res_compare)
rm(pge_com_chart)
#pge_com_compare
pge_com_chart<- pge_com %>% #only display electricity data
ggplot()+
geom_bar(
aes(
x=DATE %>% factor(),
y=TOTALKBTU,
fill= CUSTOMERCLASS
),
stat="identity",
position="stack"
)+
labs(
x="Month",
y="Total KBTU",
title= "PG&E Commercial Gas and Electricity Usage, 2017-2020",
fill="Electricity Type"
)+
scale_x_discrete(guide = guide_axis(n.dodge=7))
pge_com_chart
pge_com_compare<-pge_com%>%
ggplot(aes(
x=MONTH %>%factor(),
y=TOTALKBTU,
colour= YEAR
))
pge_com_compare
#pge_com_compare
pge_com_compare<-pge_com%>%
ggplot(aes(
x=MONTH %>%factor(),
y=TOTALKBTU,
colour= YEAR
))+
geom_line()
pge_com_compare
#pge_com_compare
pge_com_compare<-pge_com%>%
ggplot(aes(
x=MONTH,
y=TOTALKBTU,
colour= YEAR
))+
geom_line()
pge_com_compare
#pge_com_compare
pge_com_compare<-pge_com%>%
filter(CUSTOMERCLASS%in%
c("Elec- Commercial")) %>%
ggplot(aes(
x=MONTH,
y=TOTALKBTU,
colour=YEAR
))+
geom_line()
pge_com_compare
#pge_com_compare
pge_com_compare<-pge_com%>%
filter(CUSTOMERCLASS%in%
c("Elec- Commercial")) %>%
ggplot(aes(
x=MONTH,
y=TOTALKBTU,
colour=YEAR %>%factor()
))+
geom_line()
pge_com_compare
#pge_com_compare
pge_com_compare<-pge_com%>%
filter(CUSTOMERCLASS%in%
c("Elec- Commercial")) %>%
ggplot()+
geom_line(aes(
x=MONTH,
y=TOTALKBTU,
colour=YEAR %>%factor()
))
pge_com_compare
#pge_com_compare
pge_res_compare<-pge_res%>%
filter(CUSTOMERCLASS%in%
c("Elec- Residential")) %>%
ggplot()+   #Always define x and y axis in geom_line()
geom_line(aes(
x=MONTH,
y=TOTALKBTU,
colour=YEAR %>%factor()
))
rm(pge_com_compare)
#pge_com_compare
pge_res_compare
pge_res_compare<-pge_res%>%
filter(CUSTOMERCLASS%in%
c("Elec- Residential")) %>%
ggplot()+   #Always define x and y axis in geom_line()
geom_line(aes(
x=factor(MONTH),
y=TOTALKBTU,
colour=YEAR %>%factor()
))
pge_res_compare
#pge_com_compare
pge_res_compare<-pge_res%>%
filter(CUSTOMERCLASS%in%
c("Elec- Residential")) %>%
ggplot()+   #Always define x and y axis in geom_line()
geom_line(aes(
x=MONTH,
y=TOTALKBTU,
colour=YEAR %>%factor()
))
pge_res_compare
#pge_com_compare
pge_res_compare<-pge_res%>%
filter(CUSTOMERCLASS%in%
c("Elec- Residential")) %>%
ggplot()+   #Always define x and y axis in geom_line()
geom_line(aes(
x=MONTH,
y=TOTALKBTU,
colour=YEAR %>%factor()
),
stat="identity") +
labs(
x="Month"
y="Total KBTU"
pge_res_compare<-pge_res%>%
filter(CUSTOMERCLASS%in%
c("Elec- Residential")) %>%
ggplot()+   #Always define x and y axis in geom_line()
geom_line(aes(
x=MONTH,
y=TOTALKBTU,
colour=YEAR %>%factor()
),
stat="identity") +
labs(
x="Month",
y="Total KBTU",
Title="PG&E Residential Electricity Usage 2017-2020"
)
pge_res_compare
#pge_com_compare
pge_res_compare<-pge_res%>%
filter(CUSTOMERCLASS%in%
c("Elec- Residential")) %>%
ggplot()+   #Always define x and y axis in geom_line()
geom_line(aes(
x=MONTH,
y=TOTALKBTU,
colour=YEAR
),
stat="identity") +
labs(
x="Month",
y="Total KBTU",
Title="PG&E Residential Electricity Usage 2017-2020"
)
pge_res_compare
#pge_com_compare
pge_res_compare<-pge_res%>%
filter(CUSTOMERCLASS%in%
c("Elec- Residential")) %>%
ggplot()+   #Always define x and y axis in geom_line()
geom_line(aes(
x=MONTH,
y=TOTALKBTU,
colour=YEAR%>%factor()
),
stat="identity") +
labs(
x="Month",
y="Total KBTU",
Title="PG&E Residential Electricity Usage 2017-2020"
)
pge_res_compare
#pge_com_compare
pge_res_compare<-pge_res%>%
filter(CUSTOMERCLASS%in%
c("Elec- Residential")) %>%
ggplot()+   #Always define x and y axis in geom_line()
geom_line(aes(
x=MONTH,
y=TOTALKBTU,
colour=factor(YEAR)
),
stat="identity") +
labs(
x="Month",
y="Total KBTU",
Title="PG&E Residential Electricity Usage 2017-2020"
)
pge_res_compare
#pge_com_compare
pge_res_compare<-pge_res%>%
filter(CUSTOMERCLASS%in%
c("Elec- Residential")) %>%
ggplot()+   #Always define x and y axis in geom_line()
geom_line(aes(
x=MONTH,
y=TOTALKBTU,
colour=factor(YEAR)
),
stat="identity") +
labs(
x="Month",
y="Total KBTU",
Title="PG&E Residential Electricity Usage 2017-2020"
)
pge_res_compare
#pge_com_compare
pge_res_compare<-pge_res%>%
filter(CUSTOMERCLASS%in%
c("Elec- Residential")) %>%
ggplot()+   #Always define x and y axis in geom_line()
geom_line(aes(
x= MONTH,
y= TOTALKBTU,
colour=factor(YEAR)
),
stat="identity") +
labs(
x="Month",
y="Total KBTU",
Title="PG&E Residential Electricity Usage 2017-2020"
)
pge_res_compare
#pge_com_compare
pge_res_compare<-pge_res%>%
filter(CUSTOMERCLASS%in%
c("Elec- Residential")) %>%
ggplot()+   #Always define x and y axis in geom_line()
geom_line(aes(
x= MONTH,
y= TOTALKBTU,
colour=factor(YEAR)
),
stat="identity") +
labs(
x="Month",
y="Total KBTU",
Title="PG&E Residential Electricity Usage 2017-2020"
)
ggsave("PG&E Residential Electricity Usage 2017-2020", width=12)
pge_res_compare<-pge_res%>%
filter(CUSTOMERCLASS%in%
c("Elec- Residential")) %>%
ggplot()+   #Always define x and y axis in geom_line()
geom_line(aes(
x= MONTH,
y= TOTALKBTU,
colour=factor(YEAR)
),
stat="identity") +
labs(
x="Month",
y="Total KBTU",
Title="PG&E Residential Electricity Usage 2017-2020"
)
ggsave("PG&E Residential Electricity Usage 2017-2020.png", width=12)
pge_res_compare
#pge_com_compare
pge_res_compare<-pge_res%>%
filter(CUSTOMERCLASS%in%
c("Elec- Residential")) %>%
ggplot()+   #Always define x and y axis in geom_line()
geom_line(aes(
x= MONTH,
y= TOTALKBTU,
colour=factor(YEAR)
),
stat="identity") +
labs(
x="Month",
y="Total KBTU",
Title="PG&E Residential Electricity Usage 2017-2020"
)+
theme(axis.text.x = element_text(size = 11))
pge_res_compare
#pge_com_compare
pge_res_compare<-pge_res%>%
filter(CUSTOMERCLASS%in%
c("Elec- Residential")) %>%
ggplot()+   #Always define x and y axis in geom_line()
geom_line(aes(
x= factor(MONTH),
y= TOTALKBTU,
colour=factor(YEAR)
),
stat="identity") +
labs(
x="Month",
y="Total KBTU",
Title="PG&E Residential Electricity Usage 2017-2020"
)+
theme(axis.text.x = element_text(size = 11))
pge_res_compare
#pge_com_compare
pge_res_compare<-pge_res%>%
filter(CUSTOMERCLASS%in%
c("Elec- Residential")) %>%
ggplot()+   #Always define x and y axis in geom_line()
geom_line(aes(
x= MONTH,
y= TOTALKBTU,
colour=factor(YEAR)
),
stat="identity") +
labs(
x="Month",
y="Total KBTU",
Title="PG&E Residential Electricity Usage 2017-2020"
)+
theme(axis.text.x = element_text(size = 11))
pge_res_compare
#pge_com_compare
pge_res_compare<-pge_res%>%
filter(CUSTOMERCLASS%in%
c("Elec- Residential")) %>%
ggplot()+   #Always define x and y axis in geom_line()
geom_line(aes(
x= MONTH,
y= TOTALKBTU,
colour=factor(YEAR)
),
stat="identity") +
labs(
x="Month",
y="Total KBTU",
Title="PG&E Residential Electricity Usage 2017-2020"
)+
scale_x_continuous(labels=as.character(x),breaks=x)
pge_res_compare<-pge_res%>%
filter(CUSTOMERCLASS%in%
c("Elec- Residential")) %>%
ggplot()+   #Always define x and y axis in geom_line()
geom_line(aes(
x= MONTH,
y= TOTALKBTU,
colour=factor(YEAR)
),
stat="identity") +
labs(
x="Month",
y="Total KBTU",
Title="PG&E Residential Electricity Usage 2017-2020"
)+
scale_x_continuous(labels=as.character(x))
pge_res_compare<-pge_res%>%
filter(CUSTOMERCLASS%in%
c("Elec- Residential")) %>%
ggplot()+   #Always define x and y axis in geom_line()
geom_line(aes(
x= MONTH,
y= TOTALKBTU,
colour=factor(YEAR)
),
stat="identity") +
labs(
x="Month",
y="Total KBTU",
Title="PG&E Residential Electricity Usage 2017-2020"
)+
scale_x_continuous(labels=as.character(MONTH))
pge_res_compare<-pge_res%>%
filter(CUSTOMERCLASS%in%
c("Elec- Residential")) %>%
ggplot()+   #Always define x and y axis in geom_line()
geom_line(aes(
x= MONTH,
y= TOTALKBTU,
colour=factor(YEAR)
),
stat="identity") +
labs(
x="Month",
y="Total KBTU",
Title="PG&E Residential Electricity Usage 2017-2020"
)
pge_res_compare
#pge_com_compare
rm(pge_res_compare)
pge_res_elec_compare<-pge_res%>%
filter(CUSTOMERCLASS%in%
c("Elec- Residential")) %>%
ggplot()+   #Always define x and y axis in geom_line()
geom_line(aes(
x= MONTH,
y= TOTALKBTU,
colour=factor(YEAR)
),
stat="identity") +
labs(
x="Month",
y="Total KBTU",
Title="PG&E Residential Electricity Usage 2017-2020"
)
pge_res_elec_compare
#pge_com_compare
pge_res_gas_compare<- pge_res%>%
filter(CUSTOMERCLASS%in%
c("Gas- Residential")) %>%
ggplot()+   #Always define x and y axis in geom_line()
geom_line(aes(
x= MONTH,
y= TOTALKBTU,
colour=factor(YEAR)
),
stat="identity") +
labs(
x="Month",
y="Total KBTU",
Title="PG&E Residential Gas Usage 2017-2020"
)
pge_res_gas_compare
knitr::opts_chunk$set(echo = F, warning=F, message = F) #warning messages and codes do not show
library(tidyverse)
library(sf)
install.packages(sf)
library(tidyverse)
library(sf)
install.packages(sf)
install.packages("sf")
library(tidyverse)
library(sf)  #need to install.packages("package name")
library(tidyverse)
library(sf)  #need to install.packages("package name")
install.packages("sf")
library(tidyverse)
library(sf)  #need to install.packages("package name")
options(timeout=1200), install.packages("sf")
options(timeout=1200)
install.packages("sf")
library(tidyverse)
library(sf)  #need to install.packages("package name")
library(tigris)
install.packages("tigris")
install.packages("censusapi")
library(tidyverse)
library(sf)  #need to install.packages("package name")
library(tigris) #get to all geometries
library(censusapi)
library(mapview)
install.packages("mapview")
ca_counties <- counties("CA", cb = T, progress_bar = F)
ca_counties <- counties("06", cb = T, progress_bar = F)
library(tidyverse)
library(sf)  #need to install.packages("package name")
library(tigris) #get to all geometries
library(censusapi)
library(mapview)
ca_counties <- counties("CA", cb = T, progress_bar = F)
ca_counties <- counties("06", cb = T, progress_bar = F)
View(ca_counties)
ca_counties <- counties("CA")
mapview(ca_counties) # open GIS view
mapview(ca_counties)
